<!DOCTYPE html>
<html>
    <head>
        <title>{{ title }}</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='styles/problem.css') }}">
        <link rel="icon" href="{{ url_for('static', filename='favicon.png') }}">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.7/ace.js"></script>
    </head>
    <body>
        <nav style="background-color: #1a2332; padding: 16px 32px; border-bottom: 2px solid #374151;">
            <div style="max-width: 1400px; margin: 0 auto; display: flex; gap: 24px;">
                <a href="{{ url_for('problems') }}" style="color: #60a5fa; text-decoration: none; font-weight: bold;">Problems</a>
                <a href="{{ url_for('leaderboard') }}" style="color: #9ca3af; text-decoration: none;">Leaderboard</a>
            </div>
        </nav>
        <div class="vertical-layout">
            <div class="horizontal-layout">
                <div class="problem-column">
                    <div class="text"><h2 class="no-margin">{{ title|safe }}</h2>
                        {{ statement|safe }}
                    </div>
                </div>
                <div class="submission-column">
                    <form method="POST" class="form">
                        <div class="editor-container">
                            <div id="editor">{{ content }}</div>
                        </div>
                        <textarea id="editor-dummy" name="user_input" style="display: none;"></textarea>
                        <div class="submission-pane">
                            <div id="byte-counter" style="color: #9ca3af; margin-right: auto;">0 bytes</div>
                            {% if not contest_ended %}
                            <button id="submit" type="submit" class="submit">Submit</button>
                            {% else %}
                            <div style="color: #ef4444;">Contest has ended</div>
                            {% endif %}
                        </div>
                    </form>
                    <pre class="code" style="max-height: 15vh;"><code>{{ output }}</code></pre>
                </div>
            </div>
            <div id="timer" class="text timer"></div>
        </div>
        <script>
            let homepageURL = "{{ url_for('login', extra_content="Oops, looks like you got kicked (or maybe the server went down ?). You can always join back in.") }}";
            let leaderboardURL = "{{ url_for('leaderboard', extra_content="That&#39;s a wrap! Here are the final scores.") }}";
        </script>
        <script src="{{ url_for('static', filename='scripts/problem.js') }}"></script>
    </body>
</html>